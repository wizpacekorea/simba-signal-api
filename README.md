# LOT-Simba Signal Maker's API

API Version | ``2``
---- | ----
Endpoint | ``https://simba.leagueoftraders.io/v1/signal/<endpoint>``
Content-Type | ``application/json``
API Test | https://simba.leagueoftraders.io/docs

# Constants

#### Headers (caps don't matter)
Header | Meaning
---- | ----
Access-Token | ``Signal maker's access token``


# Make new signal

## Request
Description | Method | Path
---- | ---- | ----
Execute new signal | ``POST`` | ``/make``

### Body (test on api test link above)
```json
{
  "id": "76cfa72f-275b-4537-970a-c495b20a49c6",
  "symbol": "XBTUSD",
  "price": "12000",
  "qty_ratio": "0.25",
  "remaining_ratio": "0.75",
  "side": "sell",
  "type": "limit",
  "timestamp": 1607402327,
  "valid_before": 1607402327
}
```

## Response
```json
{
  "status":0
}
```

### id
* Required all the time
* Generated by the signal maker, and should be unique, if two signals with same id are sent the last one will be ignored and an error returned. 
* Using uuid is recommended.

### symbol
* Required all the time
* Should be the same as the symbols provided by the exchange originally through the API.
* For future's API e.g. Bitmex (XBTUSD, ETHUSD.....) 
* For spot exchanges it can be different depending on the market e.g. Binance (BTC/USDT).
* Test the respective exchange's API just to be sure. 

### price
* Required only when making a limit order. 
* Provide in string format for accuracy (json can have issues with scientific notion)
* We'll automatically truncate the decimals based on exchange's symbol precision. E.g if on Bitmex XBTUSD is 2 precision 1500.9954 will be truncated to 1500.99.
* In string format for accuracy


### qty_ratio
* Required all the time
* The ratio of qty amount you are buying relative to your balance. 
* Example if you have 1 XBT as balance and are about to open a position of value 0.3 XBT, then qty_ratio = 0.3
* Always positive regardless it's a sell or buy. 
* In string format for accuracy

### remaining_ratio
* Required all the time
* The ratio of current position margin to the future position margin if this order gets executed.
* "-" for short, "+" for long
* - Example, you have a short position remaining_ratio = 1. You wish close (long) 25% of the position then ``remaining_ratio:-0.75``
* - Example, you have a long position, you wish to close 100% of it, ``remaining_ratio:0``.
* - Example, you have a long position, wish to close 30% of it, ``remaining_ratio:0.7``
* In string format for accuracy

### side
* Required all the time
* buy
* sell

### type
* Required all the time
* limit
* market

### timestamp
* Required all the time
* The time the signal is sent, if you are resending in case of network errors don't change, use the first timestamp from the first time you wished to send the order.
* Unix up to seconds only format e.g. 1607402327


### valid_before
* Required all the time
* The deadline for executing this order
* Unix up to seconds only format e.g. 1607402327

## Note
* We always return http status 200 in all cases including when there's an error on your end. Any other status means the request didn't reach our server. If you don't receive 200 in case our servers are offline, try resending the signal every 5 seconds until the signal reaches the server.
* Read the status field in the response to see the status code.

## Status
* 0 = No error
* 4000 = Server error
* 4001 = Unauthorized (check your access token)
* 4002 = Invalid request (make sure you provide all the required parameters)
* 4004 = Signal duplicate (when you send the signal with same id twice)
